@{
    ViewData["Title"] = "–ö–ª—é—á–µ–≤—ã–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è";
    var insights = ViewBag.Insights as List<dynamic>;
}

<div class="d-flex justify-content-between align-items-center mb-4">
    <h2>üí° –ö–ª—é—á–µ–≤—ã–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è</h2>
    <div class="d-flex gap-2">
        <a href="/stats" class="btn btn-outline-secondary">‚Üê –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
        <a href="/calendar" class="btn btn-outline-info">üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å</a>
    </div>
</div>

<div class="card mb-4">
    <div class="card-header">
        <h5 class="mb-0">üìä –ö–ª—é—á–µ–≤—ã–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)</h5>
    </div>
    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th style="width: 200px;">–¢–∏–ø –∏–Ω—Å–∞–π—Ç–∞</th>
                        <th>–ü—Ä–∏–º–µ—Ä</th>
                    </tr>
                </thead>
                <tbody>
                    @if (insights?.Any() == true)
                    {
                        @foreach (var insight in insights)
                        {
                            <tr>
                                <td><strong>@insight.Type</strong></td>
                                <td>@insight.Text</td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="2" class="text-center text-muted py-4">
                                <div style="font-size: 48px;">üîç</div>
                                <p class="mb-0">–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞</p>
                                <p class="small">–°–æ–∑–¥–∞–π—Ç–µ –±–æ–ª—å—à–µ –∑–∞–º–µ—Ç–æ–∫ –∏ —Ü–µ–ª–µ–π, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –∏–Ω—Å–∞–π—Ç—ã</p>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- –ü—Ä–∏–º–µ—Ä—ã —Ç–∏–ø–æ–≤ –∏–Ω—Å–∞–π—Ç–æ–≤ -->
<div class="card">
    <div class="card-header">
        <h5 class="mb-0">‚ÑπÔ∏è –¢–∏–ø—ã –∏–Ω—Å–∞–π—Ç–æ–≤</h5>
    </div>
    <div class="card-body">
        <div class="row g-3">
            <div class="col-md-6">
                <div class="insight-type-card">
                    <div class="insight-type-icon">üìà</div>
                    <h6>–¢—Ä–µ–Ω–¥</h6>
                    <p class="small text-muted mb-0">–í—ã—è–≤–ª–µ–Ω–∏–µ –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–µ–π –≤ —ç–º–æ—Ü–∏—è—Ö –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏ –∏–ª–∏ –ø–µ—Ä–∏–æ–¥–∞–º</p>
                </div>
            </div>
            <div class="col-md-6">
                <div class="insight-type-card">
                    <div class="insight-type-icon">üîÅ</div>
                    <h6>–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ</h6>
                    <p class="small text-muted mb-0">–ê–Ω–∞–ª–∏–∑ —Ä–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∞–∫—Ç–∏–∫ –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</p>
                </div>
            </div>
            <div class="col-md-6">
                <div class="insight-type-card">
                    <div class="insight-type-icon">‚è∞</div>
                    <h6>–í–ª–∏—è–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏</h6>
                    <p class="small text-muted mb-0">–°–≤—è–∑—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å –≤—Ä–µ–º–µ–Ω–µ–º —Å—É—Ç–æ–∫</p>
                </div>
            </div>
            <div class="col-md-6">
                <div class="insight-type-card">
                    <div class="insight-type-icon">üéØ</div>
                    <h6>–¶–µ–ª—å –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ</h6>
                    <p class="small text-muted mb-0">–í–ª–∏—è–Ω–∏–µ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ü–µ–ª–µ–π –Ω–∞ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ</p>
                </div>
            </div>
            <div class="col-md-12">
                <div class="insight-type-card">
                    <div class="insight-type-icon">‚ö†Ô∏è</div>
                    <h6>–û—Ç–∫–ª–æ–Ω–µ–Ω–∏—è</h6>
                    <p class="small text-muted mb-0">–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ä–µ–∑–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–∏</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Recommendations -->
<div class="card mt-4">
    <div class="card-header">
        <h5 class="mb-0">üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è</h5>
    </div>
    <div class="card-body">
        <div class="row g-3">
            <div class="col-md-4">
                <div class="recommendation-card">
                    <div class="recommendation-icon">üìù</div>
                    <h6>–†–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å –∑–∞–ø–∏—Å–µ–π</h6>
                    <p class="small text-muted">–°—Ç–∞—Ä–∞–π—Ç–µ—Å—å –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å —Å–≤–æ–∏ –º—ã—Å–ª–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ª—É—á—à–µ –ø–æ–Ω–∏–º–∞—Ç—å —Å–≤–æ–∏ —ç–º–æ—Ü–∏–∏.</p>
                    <a href="/notes/create" class="btn btn-sm btn-outline-primary">–ù–∞—á–∞—Ç—å –∑–∞–ø–∏—Å—å</a>
                </div>
            </div>
            <div class="col-md-4">
                <div class="recommendation-card">
                    <div class="recommendation-icon">üéØ</div>
                    <h6>–°—Ç–∞–≤—å—Ç–µ —Ü–µ–ª–∏</h6>
                    <p class="small text-muted">–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ü–µ–ª–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Å–≤–æ–µ–≥–æ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.</p>
                    <a href="/goals/create" class="btn btn-sm btn-outline-primary">–°–æ–∑–¥–∞—Ç—å —Ü–µ–ª—å</a>
                </div>
            </div>
            <div class="col-md-4">
                <div class="recommendation-card">
                    <div class="recommendation-icon">üßò</div>
                    <h6>–ü—Ä–∞–∫—Ç–∏–∫–∏ –º–µ–¥–∏—Ç–∞—Ü–∏–∏</h6>
                    <p class="small text-muted">–ò–∑—É—á–∏—Ç–µ —Ç–µ—Ö–Ω–∏–∫–∏ –º–µ–¥–∏—Ç–∞—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–µ—Å—Å–æ–º –∏ —É–ª—É—á—à–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è.</p>
                    <a href="/practices" class="btn btn-sm btn-outline-primary">–ò–∑—É—á–∏—Ç—å –ø—Ä–∞–∫—Ç–∏–∫–∏</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Mood Patterns -->
<div class="card mt-4">
    <div class="card-header">
        <h5 class="mb-0">üìä –ü–∞—Ç—Ç–µ—Ä–Ω—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è</h5>
    </div>
    <div class="card-body">
        <div class="row g-3">
            <div class="col-md-6">
                <h6>üîç –ß—Ç–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è:</h6>
                <ul class="list-unstyled">
                    <li>‚Ä¢ –ü—Ä–µ–æ–±–ª–∞–¥–∞—é—â–∏–µ —ç–º–æ—Ü–∏–∏</li>
                    <li>‚Ä¢ –ß–∞—Å—Ç–æ—Ç–∞ –∑–∞–ø–∏—Å–∏ –∑–∞–º–µ—Ç–æ–∫</li>
                    <li>‚Ä¢ –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</li>
                    <li>‚Ä¢ –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —Ü–µ–ª—è–º</li>
                    <li>‚Ä¢ –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</li>
                </ul>
            </div>
            <div class="col-md-6">
                <h6>üí° –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Å–∞–π—Ç—ã:</h6>
                <ul class="list-unstyled">
                    <li>‚Ä¢ –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω—ã</li>
                    <li>‚Ä¢ –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö —ç–º–æ—Ü–∏–π</li>
                    <li>‚Ä¢ –ù–∞–π–¥–∏—Ç–µ –≤—Ä–µ–º—è –¥–ª—è –Ω–∞–∏–±–æ–ª–µ–µ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ã—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π</li>
                    <li>‚Ä¢ –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —Ü–µ–ª—è–º</li>
                    <li>‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<style>
.recommendation-card {
    text-align: center;
    padding: 1.5rem;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.recommendation-icon {
    font-size: 2rem;
    margin-bottom: 1rem;
}

.recommendation-card h6 {
    margin-bottom: 0.5rem;
    color: #111827;
}

.recommendation-card p {
    flex-grow: 1;
    margin-bottom: 1rem;
}

.insight-type-card {
    padding: 1rem;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    text-align: center;
    height: 100%;
}

.insight-type-icon {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
}

.insight-type-card h6 {
    margin-bottom: 0.5rem;
    color: #111827;
}

.card {
    transition: transform 0.2s ease;
}

.card:hover {
    transform: translateY(-2px);
}

.table tbody tr:hover {
    background-color: #f8f9fa;
}
</style>
