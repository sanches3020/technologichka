@{
    ViewData["Title"] = "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è";
}

<div class="auth-wrapper">
    <div class="auth-split">
        <div class="auth-art"></div>
        <div class="auth-pane">
            @if (!ViewData.ModelState.IsValid && ViewData.ModelState.ErrorCount > 0)
            {
                <div class="alert alert-danger mb-3">
                    @foreach (var err in ViewData.ModelState.Values.SelectMany(v => v.Errors))
                    {
                        <div>@err.ErrorMessage</div>
                    }
                </div>
            }
            <div class="d-flex justify-content-between align-items-center mb-3">
                <h3 class="auth-title mb-0">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h3>
                <div class="small">–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a asp-action="Login" class="text-primary">–í–æ–π—Ç–∏</a></div>
            </div>
            <p class="auth-subtitle mb-4">–°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å.</p>
            <form asp-action="Register" method="post">
                <div class="mb-3">
                    <label for="username" class="form-label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è *</label>
                    <input type="text" class="form-control" id="username" name="username" required minlength="3" maxlength="30" placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è">
                    <div class="form-text">3‚Äì30 —Å–∏–º–≤–æ–ª–æ–≤</div>
                </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">Email *</label>
                        <input type="email" class="form-control" id="email" name="email" required placeholder="your.email@example.com">
                        <div class="form-text">–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞</div>
                    </div>
                    <div class="mb-3">
                        <label for="fullName" class="form-label">–ü–æ–ª–Ω–æ–µ –∏–º—è</label>
                        <input type="text" class="form-control" id="fullName" name="fullName" placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤">
                        <div class="form-text">–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ –ø–æ–º–æ–≥–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–ø—ã—Ç</div>
                    </div>
                <div class="mb-3">
                    <label for="password" class="form-label">–ü–∞—Ä–æ–ª—å *</label>
                    <input type="password" class="form-control" id="password" name="password" required minlength="8" autocomplete="new-password" placeholder="–ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤">
                    <div class="form-text">–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 1 –∑–∞–≥–ª–∞–≤–Ω–∞—è, 1 —Ü–∏—Ñ—Ä–∞ –∏ 1 —Å–∏–º–≤–æ–ª</div>
                </div>
                    <div class="mb-3">
                        <label for="confirmPassword" class="form-label">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å *</label>
                    <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" required autocomplete="new-password" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
                    </div>
                    <div class="mb-3">
                        <label for="role" class="form-label">–¢–∏–ø –∞–∫–∫–∞—É–Ω—Ç–∞ *</label>
                        <select class="form-select" id="role" name="role" onchange="togglePsychologistFields()">
                            <option value="user" selected>üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å - –≤–µ–¥—É –¥–Ω–µ–≤–Ω–∏–∫ –∏ —Ä–∞–±–æ—Ç–∞—é –Ω–∞–¥ —Å–æ–±–æ–π</option>
                            <option value="psychologist">üë®‚Äç‚öïÔ∏è –ü—Å–∏—Ö–æ–ª–æ–≥ - –ø–æ–º–æ–≥–∞—é –¥—Ä—É–≥–∏–º –≤ –∏—Ö –ø—É—Ç–∏</option>
                        </select>
                    </div>
                    
                    <!-- Psychologist-specific fields -->
                    <div id="psychologistFields" style="display: none;">
                        <div class="alert alert-info">
                            <h6 class="mb-2">üë®‚Äç‚öïÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –ø—Å–∏—Ö–æ–ª–æ–≥–æ–≤</h6>
                            <p class="mb-0 small">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è –ø—Å–∏—Ö–æ–ª–æ–≥–∞</p>
                        </div>
                        
                        <div class="mb-3">
                            <label for="specialization" class="form-label">–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è *</label>
                            <input type="text" class="form-control" id="specialization" name="specialization" placeholder="–ö–ü–¢, —Å–µ–º–µ–π–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è, —Ä–∞–±–æ—Ç–∞ —Å —Ç—Ä–µ–≤–æ–≥–æ–π">
                        </div>
                        
                        <div class="mb-3">
                            <label for="description" class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ *</label>
                            <textarea class="form-control" id="description" name="description" rows="3" placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–≤–æ–µ–º –ø–æ–¥—Ö–æ–¥–µ –∏ –æ–ø—ã—Ç–µ —Ä–∞–±–æ—Ç—ã"></textarea>
                        </div>
                        
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="education" class="form-label">–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ *</label>
                                <input type="text" class="form-control" id="education" name="education" placeholder="–ú–ì–£, —Ñ–∞–∫—É–ª—å—Ç–µ—Ç –ø—Å–∏—Ö–æ–ª–æ–≥–∏–∏">
                            </div>
                            <div class="col-md-6">
                                <label for="experience" class="form-label">–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã *</label>
                                <input type="text" class="form-control" id="experience" name="experience" placeholder="5 –ª–µ—Ç –ø—Ä–∞–∫—Ç–∏–∫–∏">
                            </div>
                        </div>
                        
                        <div class="row g-3 mt-3">
                            <div class="col-md-6">
                                <label for="languages" class="form-label">–Ø–∑—ã–∫–∏</label>
                                <input type="text" class="form-control" id="languages" name="languages" placeholder="–†—É—Å—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π">
                            </div>
                            <div class="col-md-6">
                                <label for="methods" class="form-label">–ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã</label>
                                <input type="text" class="form-control" id="methods" name="methods" placeholder="–ö–ü–¢, –≥–µ—à—Ç–∞–ª—å—Ç-—Ç–µ—Ä–∞–ø–∏—è">
                            </div>
                        </div>
                        
                        <div class="row g-3 mt-3">
                            <div class="col-md-6">
                                <label for="pricePerHour" class="form-label">–¶–µ–Ω–∞ –∑–∞ —á–∞—Å (‚ÇΩ) *</label>
                                <input type="number" class="form-control" id="pricePerHour" name="pricePerHour" placeholder="3000" min="1000" max="10000">
                            </div>
                            <div class="col-md-6">
                                <label for="contactPhone" class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                                <input type="tel" class="form-control" id="contactPhone" name="contactPhone" placeholder="+7 (999) 123-45-67">
                            </div>
                        </div>
                    </div>
                <div class="d-grid">
                    <button type="submit" class="btn btn-primary btn-lg">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
                </div>
            </form>
            <div class="text-center mt-4 mb-4">
                <small class="text-muted">
                    –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—è—Å—å, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å <a href="/home/privacy" class="text-decoration-none">–ø–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
                </small>
            </div>
        </div>
    </div>
</div>
@section Scripts {
    <script src="~/js/register.js"></script>
    <script>
        function togglePsychologistFields() {
            const role = document.getElementById('role').value;
            const psychologistFields = document.getElementById('psychologistFields');
            
            if (role === 'psychologist') {
                psychologistFields.style.display = 'block';
                // –î–µ–ª–∞–µ–º –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏
                document.getElementById('specialization').required = true;
                document.getElementById('description').required = true;
                document.getElementById('education').required = true;
                document.getElementById('experience').required = true;
                document.getElementById('pricePerHour').required = true;
            } else {
                psychologistFields.style.display = 'none';
                // –£–±–∏—Ä–∞–µ–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
                document.getElementById('specialization').required = false;
                document.getElementById('description').required = false;
                document.getElementById('education').required = false;
                document.getElementById('experience').required = false;
                document.getElementById('pricePerHour').required = false;
            }
        }
    </script>
}

